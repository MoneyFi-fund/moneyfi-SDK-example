// Material Design 3 Theme Configuration
export const materialDesign3Theme = {
  // Color Tokens - Material Design 3 Color System
  light: {
    // Primary Colors
    primary: {
      50: '#E8F5E8',
      100: '#C8E6C8',
      200: '#A5D6A5',
      300: '#81C784',
      400: '#66BB6A',
      500: '#4CAF50', // Primary
      600: '#43A047',
      700: '#388E3C',
      800: '#2E7D32',
      900: '#1B5E20',
    },

    // Secondary Colors
    secondary: {
      50: '#F3E5F5',
      100: '#E1BEE7',
      200: '#CE93D8',
      300: '#BA68C8',
      400: '#AB47BC',
      500: '#9C27B0', // Secondary
      600: '#8E24AA',
      700: '#7B1FA2',
      800: '#6A1B9A',
      900: '#4A148C',
    },

    // Tertiary Colors
    tertiary: {
      50: '#E8F4FD',
      100: '#C5E4FB',
      200: '#9FD3F8',
      300: '#79C2F5',
      400: '#5CB5F3',
      500: '#42A5F5', // Tertiary
      600: '#3D9BE9',
      700: '#368FDC',
      800: '#2F83CF',
      900: '#1E6BB8',
    },

    // Error Colors
    error: {
      50: '#FFEBEE',
      100: '#FFCDD2',
      200: '#EF9A9A',
      300: '#E57373',
      400: '#EF5350',
      500: '#F44336', // Error
      600: '#E53935',
      700: '#D32F2F',
      800: '#C62828',
      900: '#B71C1C',
    },

    // Success Colors (Green)
    success: {
      50: '#E8F5E8',
      100: '#C8E6C8',
      200: '#A5D6A5',
      300: '#81C784',
      400: '#66BB6A',
      500: '#4CAF50',
      600: '#43A047',
      700: '#388E3C',
      800: '#2E7D32',
      900: '#1B5E20',
    },

    // Warning Colors (Orange)
    warning: {
      50: '#FFF3E0',
      100: '#FFE0B2',
      200: '#FFCC80',
      300: '#FFB74D',
      400: '#FFA726',
      500: '#FF9800',
      600: '#FB8C00',
      700: '#F57C00',
      800: '#EF6C00',
      900: '#E65100',
    },

    // Neutral Colors
    neutral: {
      50: '#FAFAFA',
      100: '#F5F5F5',
      200: '#EEEEEE',
      300: '#E0E0E0',
      400: '#BDBDBD',
      500: '#9E9E9E',
      600: '#757575',
      700: '#616161',
      800: '#424242',
      900: '#212121',
    },

    // Surface Colors
    surface: {
      50: '#FFFFFF',
      100: '#FEFEFE',
      200: '#FDFDFD',
      300: '#FBFBFB',
      400: '#F9F9F9',
      500: '#F7F7F7',
      600: '#F5F5F5',
      700: '#F3F3F3',
      800: '#F1F1F1',
      900: '#EEEEEE',
    },

    // Semantic Colors for Light Mode
    background: '#FFFFFF',
    onBackground: '#1A1C1E',
    surfaceBg: '#FFFFFF',
    onSurface: '#1A1C1E',
    surfaceVariant: '#F2F2F2',
    onSurfaceVariant: '#49454F',
    outline: '#79757F',
    outlineVariant: '#CAC4D0',
  },

  // Dark Mode Colors
  dark: {
    // Primary Colors (adjusted for dark mode)
    primary: {
      50: '#1B5E20',
      100: '#2E7D32',
      200: '#388E3C',
      300: '#43A047',
      400: '#4CAF50',
      500: '#66BB6A', // Primary in dark mode
      600: '#81C784',
      700: '#A5D6A5',
      800: '#C8E6C8',
      900: '#E8F5E8',
    },

    // Secondary Colors (adjusted for dark mode)
    secondary: {
      50: '#4A148C',
      100: '#6A1B9A',
      200: '#7B1FA2',
      300: '#8E24AA',
      400: '#9C27B0',
      500: '#AB47BC', // Secondary in dark mode
      600: '#BA68C8',
      700: '#CE93D8',
      800: '#E1BEE7',
      900: '#F3E5F5',
    },

    // Tertiary Colors (adjusted for dark mode)
    tertiary: {
      50: '#1E6BB8',
      100: '#2F83CF',
      200: '#368FDC',
      300: '#3D9BE9',
      400: '#42A5F5',
      500: '#5CB5F3', // Tertiary in dark mode
      600: '#79C2F5',
      700: '#9FD3F8',
      800: '#C5E4FB',
      900: '#E8F4FD',
    },

    // Error Colors (adjusted for dark mode)
    error: {
      50: '#B71C1C',
      100: '#C62828',
      200: '#D32F2F',
      300: '#E53935',
      400: '#F44336',
      500: '#EF5350', // Error in dark mode
      600: '#E57373',
      700: '#EF9A9A',
      800: '#FFCDD2',
      900: '#FFEBEE',
    },

    // Success Colors (adjusted for dark mode)
    success: {
      50: '#1B5E20',
      100: '#2E7D32',
      200: '#388E3C',
      300: '#43A047',
      400: '#4CAF50',
      500: '#66BB6A',
      600: '#81C784',
      700: '#A5D6A5',
      800: '#C8E6C8',
      900: '#E8F5E8',
    },

    // Warning Colors (adjusted for dark mode)
    warning: {
      50: '#E65100',
      100: '#EF6C00',
      200: '#F57C00',
      300: '#FB8C00',
      400: '#FF9800',
      500: '#FFA726', // Warning in dark mode
      600: '#FFB74D',
      700: '#FFCC80',
      800: '#FFE0B2',
      900: '#FFF3E0',
    },

    // Neutral Colors (inverted for dark mode)
    neutral: {
      50: '#212121',
      100: '#424242',
      200: '#616161',
      300: '#757575',
      400: '#9E9E9E',
      500: '#BDBDBD',
      600: '#E0E0E0',
      700: '#EEEEEE',
      800: '#F5F5F5',
      900: '#FAFAFA',
    },

    // Surface Colors (dark surfaces)
    surface: {
      50: '#0F0F0F',
      100: '#161618',
      200: '#1D1B20',
      300: '#2B2930',
      400: '#322F35',
      500: '#3A3740',
      600: '#433F4B',
      700: '#4C4756',
      800: '#555061',
      900: '#5E596C',
    },

    // Semantic Colors for Dark Mode
    background: '#0F0F0F',
    onBackground: '#E6E0E9',
    surfaceBg: '#161618',
    onSurface: '#E6E0E9',
    surfaceVariant: '#2B2930',
    onSurfaceVariant: '#CAC4D0',
    outline: '#938F99',
    outlineVariant: '#49454F',
  },

  // Common colors for both modes
  colors: {
    // Default to light mode for backward compatibility
    primary: {
      50: '#E8F5E8',
      100: '#C8E6C8',
      200: '#A5D6A5',
      300: '#81C784',
      400: '#66BB6A',
      500: '#4CAF50',
      600: '#43A047',
      700: '#388E3C',
      800: '#2E7D32',
      900: '#1B5E20',
    },
    secondary: {
      50: '#F3E5F5',
      100: '#E1BEE7',
      200: '#CE93D8',
      300: '#BA68C8',
      400: '#AB47BC',
      500: '#9C27B0',
      600: '#8E24AA',
      700: '#7B1FA2',
      800: '#6A1B9A',
      900: '#4A148C',
    },
    tertiary: {
      50: '#E8F4FD',
      100: '#C5E4FB',
      200: '#9FD3F8',
      300: '#79C2F5',
      400: '#5CB5F3',
      500: '#42A5F5',
      600: '#3D9BE9',
      700: '#368FDC',
      800: '#2F83CF',
      900: '#1E6BB8',
    },
    error: {
      50: '#FFEBEE',
      100: '#FFCDD2',
      200: '#EF9A9A',
      300: '#E57373',
      400: '#EF5350',
      500: '#F44336',
      600: '#E53935',
      700: '#D32F2F',
      800: '#C62828',
      900: '#B71C1C',
    },
    success: {
      50: '#E8F5E8',
      100: '#C8E6C8',
      200: '#A5D6A5',
      300: '#81C784',
      400: '#66BB6A',
      500: '#4CAF50',
      600: '#43A047',
      700: '#388E3C',
      800: '#2E7D32',
      900: '#1B5E20',
    },
    warning: {
      50: '#FFF3E0',
      100: '#FFE0B2',
      200: '#FFCC80',
      300: '#FFB74D',
      400: '#FFA726',
      500: '#FF9800',
      600: '#FB8C00',
      700: '#F57C00',
      800: '#EF6C00',
      900: '#E65100',
    },
    neutral: {
      50: '#FAFAFA',
      100: '#F5F5F5',
      200: '#EEEEEE',
      300: '#E0E0E0',
      400: '#BDBDBD',
      500: '#9E9E9E',
      600: '#757575',
      700: '#616161',
      800: '#424242',
      900: '#212121',
    },
    surface: {
      50: '#FFFFFF',
      100: '#FEFEFE',
      200: '#FDFDFD',
      300: '#FBFBFB',
      400: '#F9F9F9',
      500: '#F7F7F7',
      600: '#F5F5F5',
      700: '#F3F3F3',
      800: '#F1F1F1',
      900: '#EEEEEE',
    }
  },

  // Elevation System (Material Design 3)
  elevation: {
    level0: 'none',
    level1: '0px 1px 2px 0px rgba(0, 0, 0, 0.3), 0px 1px 3px 1px rgba(0, 0, 0, 0.15)',
    level2: '0px 1px 2px 0px rgba(0, 0, 0, 0.3), 0px 2px 6px 2px rgba(0, 0, 0, 0.15)',
    level3: '0px 1px 3px 0px rgba(0, 0, 0, 0.3), 0px 4px 8px 3px rgba(0, 0, 0, 0.15)',
    level4: '0px 2px 3px 0px rgba(0, 0, 0, 0.3), 0px 6px 10px 4px rgba(0, 0, 0, 0.15)',
    level5: '0px 4px 4px 0px rgba(0, 0, 0, 0.3), 0px 8px 12px 6px rgba(0, 0, 0, 0.15)',
  },

  // Border Radius Scale
  borderRadius: {
    none: '0px',
    xs: '4px',
    sm: '8px',
    md: '12px',
    lg: '16px',
    xl: '20px',
    '2xl': '24px',
    '3xl': '28px',
    full: '9999px',
  },

  // Spacing Scale (4px base)
  spacing: {
    0: '0px',
    1: '4px',
    2: '8px',
    3: '12px',
    4: '16px',
    5: '20px',
    6: '24px',
    7: '28px',
    8: '32px',
    9: '36px',
    10: '40px',
    12: '48px',
    14: '56px',
    16: '64px',
    20: '80px',
    24: '96px',
    28: '112px',
    32: '128px',
  },

  // Typography Scale
  typography: {
    // Display
    displayLarge: {
      fontSize: '57px',
      lineHeight: '64px',
      fontWeight: '400',
      letterSpacing: '-0.25px',
    },
    displayMedium: {
      fontSize: '45px',
      lineHeight: '52px',
      fontWeight: '400',
      letterSpacing: '0px',
    },
    displaySmall: {
      fontSize: '36px',
      lineHeight: '44px',
      fontWeight: '400',
      letterSpacing: '0px',
    },

    // Headline
    headlineLarge: {
      fontSize: '32px',
      lineHeight: '40px',
      fontWeight: '400',
      letterSpacing: '0px',
    },
    headlineMedium: {
      fontSize: '28px',
      lineHeight: '36px',
      fontWeight: '400',
      letterSpacing: '0px',
    },
    headlineSmall: {
      fontSize: '24px',
      lineHeight: '32px',
      fontWeight: '400',
      letterSpacing: '0px',
    },

    // Title
    titleLarge: {
      fontSize: '22px',
      lineHeight: '28px',
      fontWeight: '400',
      letterSpacing: '0px',
    },
    titleMedium: {
      fontSize: '16px',
      lineHeight: '24px',
      fontWeight: '500',
      letterSpacing: '0.15px',
    },
    titleSmall: {
      fontSize: '14px',
      lineHeight: '20px',
      fontWeight: '500',
      letterSpacing: '0.1px',
    },

    // Label
    labelLarge: {
      fontSize: '14px',
      lineHeight: '20px',
      fontWeight: '500',
      letterSpacing: '0.1px',
    },
    labelMedium: {
      fontSize: '12px',
      lineHeight: '16px',
      fontWeight: '500',
      letterSpacing: '0.5px',
    },
    labelSmall: {
      fontSize: '11px',
      lineHeight: '16px',
      fontWeight: '500',
      letterSpacing: '0.5px',
    },

    // Body
    bodyLarge: {
      fontSize: '16px',
      lineHeight: '24px',
      fontWeight: '400',
      letterSpacing: '0.5px',
    },
    bodyMedium: {
      fontSize: '14px',
      lineHeight: '20px',
      fontWeight: '400',
      letterSpacing: '0.25px',
    },
    bodySmall: {
      fontSize: '12px',
      lineHeight: '16px',
      fontWeight: '400',
      letterSpacing: '0.4px',
    },
  },

  // Interactive States
  states: {
    hover: {
      opacity: 0.08,
    },
    focus: {
      opacity: 0.12,
    },
    pressed: {
      opacity: 0.12,
    },
    disabled: {
      opacity: 0.38,
    },
  },

  // Component-specific tokens
  components: {
    card: {
      borderRadius: '12px',
      elevation: 'level1',
      padding: '16px',
    },
    button: {
      borderRadius: '8px',
      padding: '12px 24px',
      minHeight: '40px',
    },
    input: {
      borderRadius: '8px',
      padding: '12px 16px',
      minHeight: '40px',
    },
    modal: {
      borderRadius: '16px',
      elevation: 'level5',
    },
  },
};

// Theme helper functions
export const getElevationStyle = (level: keyof typeof materialDesign3Theme.elevation) => ({
  boxShadow: materialDesign3Theme.elevation[level],
});

export const getTypographyStyle = (variant: keyof typeof materialDesign3Theme.typography) =>
  materialDesign3Theme.typography[variant];

export const getColorWithOpacity = (color: string, opacity: number) =>
  `${color}${Math.round(opacity * 255).toString(16).padStart(2, '0')}`;

// Theme mode helper functions
export const getThemeColors = (mode: 'light' | 'dark') => {
  return mode === 'dark' ? materialDesign3Theme.dark : materialDesign3Theme.light;
};

export const getThemedColor = (mode: 'light' | 'dark', colorPath: string): string => {
  const colors = getThemeColors(mode);
  const pathParts = colorPath.split('.');
  let result: any = colors;
  
  for (const part of pathParts) {
    if (result && typeof result === 'object' && part in result) {
      result = result[part];
    } else {
      // Fallback to light mode if color not found
      result = materialDesign3Theme.light;
      for (const fallbackPart of pathParts) {
        if (result && typeof result === 'object' && fallbackPart in result) {
          result = result[fallbackPart];
        } else {
          return '#000000'; // Ultimate fallback
        }
      }
      break;
    }
  }
  
  return typeof result === 'string' ? result : '#000000';
};

// Component-specific themed color helpers
export const getCardColors = (mode: 'light' | 'dark') => {
  const colors = getThemeColors(mode);
  return {
    background: colors.surfaceBg,
    border: mode === 'dark' ? colors.outline : colors.outlineVariant,
    text: colors.onSurface,
    textSecondary: colors.onSurfaceVariant,
  };
};

export const getButtonColors = (mode: 'light' | 'dark', variant: 'primary' | 'secondary' | 'error') => {
  const colors = getThemeColors(mode);
  const variantColors = colors[variant];
  
  return {
    background: variantColors[500],
    hover: variantColors[mode === 'dark' ? 400 : 600],
    active: variantColors[mode === 'dark' ? 300 : 700],
    disabled: colors.neutral[mode === 'dark' ? 700 : 300],
    text: mode === 'dark' ? colors.neutral[900] : '#FFFFFF',
  };
};

export const getMenuColors = (mode: 'light' | 'dark') => {
  const colors = getThemeColors(mode);
  return {
    background: colors.surfaceBg,
    border: colors.outline,
    text: colors.onSurface,
    textSecondary: colors.onSurfaceVariant,
    hover: colors.surfaceVariant,
    separator: colors.outlineVariant,
  };
};

// Chakra UI compatible theme extension
export const chakraUIThemeExtension = {
  colors: materialDesign3Theme.colors,
  shadows: materialDesign3Theme.elevation,
  radii: materialDesign3Theme.borderRadius,
  space: materialDesign3Theme.spacing,
  fontSizes: {
    'display-lg': materialDesign3Theme.typography.displayLarge.fontSize,
    'display-md': materialDesign3Theme.typography.displayMedium.fontSize,
    'display-sm': materialDesign3Theme.typography.displaySmall.fontSize,
    'headline-lg': materialDesign3Theme.typography.headlineLarge.fontSize,
    'headline-md': materialDesign3Theme.typography.headlineMedium.fontSize,
    'headline-sm': materialDesign3Theme.typography.headlineSmall.fontSize,
    'title-lg': materialDesign3Theme.typography.titleLarge.fontSize,
    'title-md': materialDesign3Theme.typography.titleMedium.fontSize,
    'title-sm': materialDesign3Theme.typography.titleSmall.fontSize,
    'label-lg': materialDesign3Theme.typography.labelLarge.fontSize,
    'label-md': materialDesign3Theme.typography.labelMedium.fontSize,
    'label-sm': materialDesign3Theme.typography.labelSmall.fontSize,
    'body-lg': materialDesign3Theme.typography.bodyLarge.fontSize,
    'body-md': materialDesign3Theme.typography.bodyMedium.fontSize,
    'body-sm': materialDesign3Theme.typography.bodySmall.fontSize,
  },
  lineHeights: {
    'display-lg': materialDesign3Theme.typography.displayLarge.lineHeight,
    'display-md': materialDesign3Theme.typography.displayMedium.lineHeight,
    'display-sm': materialDesign3Theme.typography.displaySmall.lineHeight,
    'headline-lg': materialDesign3Theme.typography.headlineLarge.lineHeight,
    'headline-md': materialDesign3Theme.typography.headlineMedium.lineHeight,
    'headline-sm': materialDesign3Theme.typography.headlineSmall.lineHeight,
    'title-lg': materialDesign3Theme.typography.titleLarge.lineHeight,
    'title-md': materialDesign3Theme.typography.titleMedium.lineHeight,
    'title-sm': materialDesign3Theme.typography.titleSmall.lineHeight,
    'label-lg': materialDesign3Theme.typography.labelLarge.lineHeight,
    'label-md': materialDesign3Theme.typography.labelMedium.lineHeight,
    'label-sm': materialDesign3Theme.typography.labelSmall.lineHeight,
    'body-lg': materialDesign3Theme.typography.bodyLarge.lineHeight,
    'body-md': materialDesign3Theme.typography.bodyMedium.lineHeight,
    'body-sm': materialDesign3Theme.typography.bodySmall.lineHeight,
  },
  fontWeights: {
    normal: '400',
    medium: '500',
    semibold: '600',
    bold: '700',
  },
};